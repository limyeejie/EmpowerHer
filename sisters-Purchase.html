<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"/>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- for cart icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Purchase Pregnancy Test Kit</title>
</head>
<body style="margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh;">
  <div style="width: 1280px; height: 3464px; position: relative; background: white; margin: auto;">
    <div style="width: 743px; height: 468px; left: 492px; top: 221px; position: absolute; background: #F5DAE3; border-radius: 25px"></div>
    <div style="width: 500px; height: 466px; left: 147px; top: 221px; position: absolute; background: #EFA7BF; border-radius: 50px"></div>
    <div style="width: 340px; height: 72px; left: 501px; top: 163px; position: absolute; color: black; font-size: 24px; font-family: Gideon Roman; font-weight: 400; word-wrap: break-word">Purchase Pregnancy Test Kit</div>
    <img style="width: 354px; height: 394px; left: 192px; top: 257px; position: absolute" src="donors-purchase-pregnancy-test-kit-image.png" />
    <div style="width: 313px; height: 85px; left: 783px; top: 260px; position: absolute; color: black; font-size: 24px; font-family: Gideon Roman; font-weight: 400; word-wrap: break-word">Pregnancy Test Kit 1 unit</div>
    <div style="width: 253px; height: 78px; left: 783px; top: 345px; position: absolute; color: #EF2266; font-size: 48px; font-family: Gideon Roman; font-weight: 400; word-wrap: break-word">RM 11.10</div>
    <div style="width: 167px; height: 61px; left: 800px; top: 470px; position: absolute; color: black; font-size: 24px; font-family: Gideon Roman; font-weight: 400; word-wrap: break-word">Quantity</div>
    
    <input type="number" value="1" class="cart-quantity" id="sisQuantityInput" style="width: 83px; height: 27px; left: 953px; top: 470px; position: absolute">
    <div id="sisQuantityError" style="visibility: hidden; width: 167px; height: 61px; left: 950px; top: 500px; position: absolute; color: brown; font-size: 15px; font-family: Gideon Roman; font-weight: 400; word-wrap: break-word">cannot less than 1</div>

    <!-- check out button -->
    <!-- open overlay sisters-ThankPurchase.html -->
    <button id="sisPurchaseButton" style="width: 261px; height: 69px; left: 939px; top: 597px; position: absolute; background: #DE3F78; border-radius: 8px; border: none; cursor: pointer;">
      <span style="width: 100%; height: 100%; position: absolute;"></span>
      <span style="width: 202px; height: 38px; left: 29px; top: 15px; position: absolute; color: white; font-size: 36px; font-family: 'Gideon Roman', sans-serif; font-weight: 400; word-wrap: break-word;">Check Out</span>
    </button>

  </div>
    <script src="sister-Header.js"></script>
    <script>
      function validateQuantity() {
        var quantity = document.getElementById("sisQuantityInput");
        var quantityError = document.getElementById("sisQuantityError");

        if (quantity.value < 1) {
          quantityError.style.visibility = "visible";
          return;
        } else {
          quantityError.style.visibility = "hidden";
          return true;
        }
      }

      document.getElementById("sisQuantityInput").addEventListener("change", validateQuantity);

      // Add a click event listener to the div element
      document.getElementById('sisPurchaseButton').addEventListener('click', function(event) {
        //Prevent form submission if validation fails
        if (!validateQuantity()) {
          event.preventDefault();
          return;
        }

        //calculate the total payment for test kits
        var quantity = document.getElementById("sisQuantityInput").value;
        var unitPrice = 11.10; // Assuming the unit price is RM 11.10
        var totalPayment = (quantity * unitPrice).toFixed(2);

        // Open overlay (you may need to implement this part)
        openOverlay();
  
        // Navigate to the "donors-ThankPurchase.html" page
        window.location.href = 'sisters-ConfirmOrder.html?totalPayment=' + totalPayment + '&quantity=' + quantity;
      });
    </script>
</body>
</html>
